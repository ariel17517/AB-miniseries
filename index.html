<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ค้นหาหนัง • AB-miniseries (X)</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans Thai", "Noto Sans", sans-serif;
      background: #f6f7fb;
      color: #111;
    }
    header {
      position: sticky;
      top: 0;
      z-index: 10;
      background: linear-gradient(90deg,#673ab7,#3f51b5);
      color: white;
      padding: 16px 20px;
      display: flex;
      align-items: center;
      gap: 12px;
    }
    header .logo {
      width: 36px; height: 36px; border-radius: 8px;
      background: white; display: grid; place-items: center; color:#3f51b5; font-weight: 800;
    }
    header h1 {
      margin: 0; font-size: 18px; line-height: 1.2;
    }
    header small { opacity: .9; display:block; font-weight: 400; }
    .container { max-width: 1024px; margin: 0 auto; padding: 16px; }
    .searchbar {
      display: flex; gap: 8px; align-items: center; background: white; padding: 10px 12px;
      border-radius: 12px; border: 1px solid #e7e8ee; box-shadow: 0 1px 2px rgba(0,0,0,.04);
    }
    .searchbar input {
      flex: 1; border: none; outline: none; font-size: 16px;
    }
    .grid {
      margin-top: 16px;
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(170px, 1fr));
      gap: 14px;
    }
    .card {
      display: flex; flex-direction: column;
      background: white;
      border-radius: 14px;
      border: 1px solid #e7e8ee;
      overflow: hidden;
      box-shadow: 0 1px 3px rgba(0,0,0,.05);
      transition: transform .1s ease, box-shadow .1s ease;
      cursor: pointer;
    }
    .card:hover { transform: translateY(-2px); box-shadow: 0 8px 18px rgba(0,0,0,.08); }
    .thumb {
      width: 100%;
      aspect-ratio: 2/3;
      object-fit: cover;
      background: #e9e9f5;
    }
    .meta {
      padding: 10px 12px;
    }
    .title {
      font-size: 15px; font-weight: 700; margin: 0 0 6px;
      display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;
    }
    .sub { font-size: 13px; color: #667; }
    .footer {
      text-align: center; color: #666; font-size: 12px; padding: 24px 8px;
    }
    .count { font-size: 13px; color: #555; margin-top: 10px; }
    .pill {
      display:inline-block; padding: 2px 8px; border-radius: 999px; font-size: 11px;
      border: 1px solid #e0e3ff; color:#3f51b5; background:#f3f4ff; margin-right:6px;
    }
    @media (max-width: 480px) {
      header { padding: 12px 16px; }
      .container { padding: 12px; }
      .grid { gap: 10px; }
    }
  </style>
</head>
<body>
  <header>
<!--     <div class="logo">FR</div> -->
<img class="logo" src="./images/logo.png" alt="AB-miniseries logo">
    <div>
      <h1>ค้นหาหนัง FamilyReels <small>ลิงก์รวมไปโพสต์บน X ของคุณ</small></h1>
    </div>
  </header>

  <div class="container">
    <div class="searchbar">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
      <input id="q" type="search" placeholder="ค้นหาชื่อเรื่อง นักแสดง ปี..." />
    </div>
    <div class="count" id="count"></div>
    <div class="grid" id="grid"></div>
  </div>

<script>
// ====== ตั้งค่าข้อมูลหนังของคุณ (ตัวอย่าง) ======
// เพิ่ม/แก้ไขได้ตามต้องการ: title, image, year, tags, xUrl (ลิงก์โพสต์บน X)
const MOVIES = [
  {
    title: "หลงรักเธอในฤดูที่ไม่มีฉัน",
    image: "./images/02.jpg",
    year: "2025",
    tags: ["ซับไทย","ซีรียต์จีนแนวตั้ง"],
    xUrl: "https://www.youtube.com/watch?v=j1WifUe_fjQ&list=RD8YJmp_krLLA&index=11"
  },
  {
    title: "ทั้งรักทั้งแค้น (หลี่เค่ออี้)",
    image: "https://images.unsplash.com/photo-1526948128573-703ee1aeb6fa?q=80&w=1080&auto=format&fit=crop",
    year: "2023",
    tags: ["โรแมนติก","ดราม่า","ซับไทย"],
    xUrl: "https://x.com/your_account/status/2345678901"
  },
  {
    title: "My Lovely Princess",
    image: "https://images.unsplash.com/photo-1519681393784-d120267933ba?q=80&w=1080&auto=format&fit=crop",
    year: "2022",
    tags: ["แฟนตาซี","พีเรียด"],
    xUrl: "https://x.com/your_account/status/3456789012"
  }
];

// ====== ตัวช่วย ======
const grid = document.getElementById('grid');
const count = document.getElementById('count');
const q = document.getElementById('q');

function cardTemplate(m) {
  const tags = (m.tags || []).map(t => `<span class="pill">${t}</span>`).join('');
  return `
    <article class="card" data-title="${(m.title||'').toLowerCase()} ${((m.tags||[]).join(' ')||'').toLowerCase()} ${m.year||''}"
             onclick="openPost('${m.xUrl}')">
      <img class="thumb" loading="lazy" src="${m.image}" alt="${m.title}">
      <div class="meta">
        <h3 class="title">${m.title}</h3>
        <div class="sub">${m.year ? m.year+' • ' : ''}<span>คลิกเพื่อไปที่โพสต์</span></div>
        <div>${tags}</div>
      </div>
    </article>
  `;
}

function render(list) {
  grid.innerHTML = list.map(cardTemplate).join('');
  count.textContent = `ทั้งหมด ${list.length} เรื่อง`;
}

function openPost(url) {
  if (!/^https?:\/\//.test(url)) return;
  window.open(url, '_blank', 'noopener');
}

function filter(term) {
  const t = term.trim().toLowerCase();
  if (!t) return MOVIES;
  return MOVIES.filter(m => (`${m.title} ${(m.tags||[]).join(' ')} ${m.year || ''}`.toLowerCase()).includes(t));
}

// ค้นหาจากพารามิเตอร์ ?q=
const params = new URLSearchParams(location.search);
const initialQ = params.get('q') || '';
q.value = initialQ;
render(filter(initialQ));

q.addEventListener('input', (e) => {
  const v = e.target.value;
  render(filter(v));
  const url = new URL(location);
  if (v) url.searchParams.set('q', v); else url.searchParams.delete('q');
  history.replaceState({}, '', url);
});
</script>
</body>
</html>



